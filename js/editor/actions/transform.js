// koffee 1.4.0
var Transform, _, kerror, kstr, matchr, ref, reversed, slash,
    indexOf = [].indexOf,
    slice = [].slice;

ref = require('kxk'), reversed = ref.reversed, slash = ref.slash, kstr = ref.kstr, kerror = ref.kerror, _ = ref._;

matchr = require('../../tools/matchr');

Transform = (function() {
    Transform.transformNames = ['upper', 'lower', 'title', 'case', 'count', 'add', 'sub', 'up', 'down', 'sort', 'uniq', 'reverse', 'resolve', 'unresolve', 'dir', 'base', 'file', 'ext'];

    Transform.transformMenus = {
        Case: ['upper', 'lower', 'title', 'case'],
        Calc: ['count', 'add', 'sub'],
        Sort: ['up', 'down', 'sort', 'uniq', 'reverse'],
        Path: ['resolve', 'unresolve', 'dir', 'base', 'file', 'ext']
    };

    function Transform(editor1) {
        this.editor = editor1;
        this.editor.transform = this;
        this.last = null;
        this.caseFuncs = ['upper', 'lower', 'title'];
        this.resolveFuncs = ['resolve', 'unresolve'];
        this.sortFuncs = ['up', 'down'];
    }

    Transform.prototype.count = function(typ, offset, step) {
        var base, cs, i, numbers, pad;
        if (typ == null) {
            typ = 'dec';
        }
        if (offset == null) {
            offset = 0;
        }
        if (step == null) {
            step = 1;
        }
        offset = parseInt(offset);
        step = parseInt(step);
        this.editor["do"].start();
        this.editor.fillVirtualSpaces();
        cs = this.editor["do"].cursors();
        this.editor["do"].select(rangesFromPositions(cs));
        switch (typ) {
            case 'hex':
                base = 16;
                break;
            case 'bin':
                base = 2;
                break;
            default:
                base = 10;
        }
        pad = Number(step * (cs.length - 1) + offset).toString(base).length;
        numbers = (function() {
            var j, ref1, results;
            results = [];
            for (i = j = 0, ref1 = cs.length; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {
                results.push(_.padStart(Number(step * i + offset).toString(base), pad, '0'));
            }
            return results;
        })();
        this.editor.replaceSelectedText(numbers);
        this.editor["do"].end();
        return 'count';
    };

    Transform.prototype.add = function(d) {
        if (d == null) {
            d = 1;
        }
        this.apply(function(t) {
            return kstr(parseInt(t) + parseInt(d));
        });
        return 'add';
    };

    Transform.prototype.sub = function(d) {
        if (d == null) {
            d = 1;
        }
        this.apply(function(t) {
            return kstr(parseInt(t) - parseInt(d));
        });
        return 'sub';
    };

    Transform.prototype.reverse = function() {
        this.trans(function(l) {
            return reversed(l);
        });
        return 'reverse';
    };

    Transform.prototype.sort = function() {
        return this.toggle(this.sortFuncs);
    };

    Transform.prototype.up = function() {
        this.trans(function(l) {
            return l.sort(function(a, b) {
                return a.localeCompare(b);
            });
        });
        return 'up';
    };

    Transform.prototype.down = function() {
        this.trans(function(l) {
            return reversed(l.sort(function(a, b) {
                return a.localeCompare(b);
            }));
        });
        return 'down';
    };

    Transform.prototype.uniq = function() {
        this.trans(function(l) {
            var a, j, len, r, v;
            v = [];
            r = [];
            for (j = 0, len = l.length; j < len; j++) {
                a = l[j];
                r.push(indexOf.call(v, a) >= 0 ? '' : (v.push(a), a));
            }
            return r;
        });
        return 'uniq';
    };

    Transform.prototype["case"] = function() {
        return this.toggle(this.caseFuncs);
    };

    Transform.prototype.upper = function() {
        this.apply(function(t) {
            return t.toUpperCase();
        });
        return 'upper';
    };

    Transform.prototype.lower = function() {
        this.apply(function(t) {
            return t.toLowerCase();
        });
        return 'lower';
    };

    Transform.prototype.title = function() {
        var pattern;
        pattern = /\w+/;
        this.apply(function(t) {
            var j, len, r, ref1;
            ref1 = matchr.ranges(/\w+/, t);
            for (j = 0, len = ref1.length; j < len; j++) {
                r = ref1[j];
                t = t.splice(r.start, r.match.length, r.match.substr(0, 1).toUpperCase() + r.match.slice(1).toLowerCase());
            }
            return t;
        });
        return 'title';
    };

    Transform.prototype.toggleResolve = function() {
        return this.toggle(this.resolveFuncs);
    };

    Transform.prototype.resolve = function() {
        var cwd;
        cwd = process.cwd();
        if (this.editor.currentFile != null) {
            process.chdir(slash.dir(this.editor.currentFile));
        }
        this.apply(function(t) {
            return slash.resolve(t);
        });
        process.chdir(cwd);
        return 'resolve';
    };

    Transform.prototype.unresolve = function() {
        this.apply(function(t) {
            return slash.unresolve(t);
        });
        return 'unresolve';
    };

    Transform.prototype.base = function() {
        this.apply(function(t) {
            return slash.base(t);
        });
        return 'basename';
    };

    Transform.prototype.dir = function() {
        this.apply(function(t) {
            return slash.dir(t);
        });
        return 'dirname';
    };

    Transform.prototype.ext = function() {
        this.apply(function(t) {
            return slash.ext(t);
        });
        return 'ext';
    };

    Transform.prototype.file = function() {
        this.apply(function(t) {
            return slash.file(t);
        });
        return 'file';
    };

    Transform.prototype.apply = function(func) {
        return this.tfunc({
            apply: func
        });
    };

    Transform.prototype.trans = function(func) {
        return this.tfunc({
            trans: func
        });
    };

    Transform.prototype.tfunc = function(opt) {
        var selections, tl;
        if (!this.editor.numSelections()) {
            if (opt.trans) {
                this.editor.selectMoreLines();
            } else {
                this.editor.select(this.editor.rangesForWordsAtCursors());
            }
        }
        selections = this.editor.selections();
        tl = this.editor.textsInRanges(selections);
        if (opt.apply != null) {
            tl = tl.map(opt.apply);
        }
        if (opt.trans != null) {
            tl = opt.trans(tl);
        }
        this.editor["do"].start();
        this.editor.replaceSelectedText(tl);
        return this.editor["do"].end();
    };

    Transform.prototype.toggle = function(funcList) {
        var nextIndex, ref1;
        if (ref1 = this.last, indexOf.call(funcList, ref1) < 0) {
            this.last = _.last(funcList);
        }
        nextIndex = (1 + funcList.indexOf(this.last)) % funcList.length;
        return this["do"](funcList[nextIndex]);
    };

    Transform.prototype["do"] = function() {
        var args, f, transName;
        transName = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
        f = this[transName];
        if (f && _.isFunction(f)) {
            this.last = f.apply(this, args);
        } else {
            return kerror("unhandled transform " + transName);
        }
        return this.last;
    };

    Transform["do"] = function() {
        var args, editor, ref1, t, transName;
        editor = arguments[0], transName = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];
        t = (ref1 = editor.transform) != null ? ref1 : new Transform(editor);
        return t["do"].apply(t, [transName].concat(args));
    };

    return Transform;

})();

module.exports = {
    actions: {
        menu: "Misc",
        toggleCase: {
            name: 'Toggle Case',
            text: 'toggles selected texts between lower- upper- and title-case',
            combo: 'command+alt+ctrl+u',
            accel: 'alt+ctrl+u'
        },
        reverseSelection: {
            name: 'Reverse Selection',
            text: 'reverses the order of selected texts',
            combo: 'command+alt+ctrl+r',
            accel: 'alt+ctrl+r'
        },
        doTransform: {
            name: 'doTransform'
        }
    },
    toggleCase: function() {
        return Transform["do"](this, 'case');
    },
    reverseSelection: function() {
        return Transform["do"](this, 'reverse');
    },
    doTransform: function(arg) {
        return Transform["do"](this, arg);
    },
    Transform: Transform,
    transformNames: Transform.transformNames
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNmb3JtLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBT0EsSUFBQSx3REFBQTtJQUFBOzs7QUFBQSxNQUF1QyxPQUFBLENBQVEsS0FBUixDQUF2QyxFQUFFLHVCQUFGLEVBQVksaUJBQVosRUFBbUIsZUFBbkIsRUFBeUIsbUJBQXpCLEVBQWlDOztBQUVqQyxNQUFBLEdBQVMsT0FBQSxDQUFRLG9CQUFSOztBQUVIO0lBRUYsU0FBQyxDQUFBLGNBQUQsR0FBa0IsQ0FDZCxPQURjLEVBQ0wsT0FESyxFQUNJLE9BREosRUFDYSxNQURiLEVBRWQsT0FGYyxFQUVMLEtBRkssRUFFRSxLQUZGLEVBR2QsSUFIYyxFQUdSLE1BSFEsRUFHQSxNQUhBLEVBR1EsTUFIUixFQUlkLFNBSmMsRUFLZCxTQUxjLEVBS0gsV0FMRyxFQU1kLEtBTmMsRUFNUCxNQU5PLEVBT2QsTUFQYyxFQU9OLEtBUE07O0lBU2xCLFNBQUMsQ0FBQSxjQUFELEdBQ0k7UUFBQSxJQUFBLEVBQU0sQ0FBQyxPQUFELEVBQVUsT0FBVixFQUFtQixPQUFuQixFQUE0QixNQUE1QixDQUFOO1FBQ0EsSUFBQSxFQUFNLENBQUMsT0FBRCxFQUFVLEtBQVYsRUFBaUIsS0FBakIsQ0FETjtRQUVBLElBQUEsRUFBTSxDQUFDLElBQUQsRUFBTyxNQUFQLEVBQWUsTUFBZixFQUF1QixNQUF2QixFQUErQixTQUEvQixDQUZOO1FBR0EsSUFBQSxFQUFNLENBQUUsU0FBRixFQUFhLFdBQWIsRUFBMEIsS0FBMUIsRUFBaUMsTUFBakMsRUFBeUMsTUFBekMsRUFBaUQsS0FBakQsQ0FITjs7O0lBS1MsbUJBQUMsT0FBRDtRQUFDLElBQUMsQ0FBQSxTQUFEO1FBRVYsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFSLEdBQW9CO1FBQ3BCLElBQUMsQ0FBQSxJQUFELEdBQWdCO1FBQ2hCLElBQUMsQ0FBQSxTQUFELEdBQWdCLENBQUMsT0FBRCxFQUFVLE9BQVYsRUFB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QUFBLEVBQU8sb0JBRlA7WUFHQSxLQUFBLEVBQU8sWUFIUDtTQVRKO1FBY0EsV0FBQSxFQUNJO1lBQUEsSUFBQSxFQUFPLGFBQVA7U0FmSjtLQUZKO0lBbUJBLFVBQUEsRUFBbUIsU0FBQTtlQUFHLFNBQVMsRUFBQyxFQUFELEVBQVQsQ0FBYSxJQUFiLEVBQWdCLE1BQWhCO0lBQUgsQ0FuQm5CO0lBb0JBLGdCQUFBLEVBQW1CLFNBQUE7ZUFBRyxTQUFTLEVBQUMsRUFBRCxFQUFULENBQWEsSUFBYixFQUFnQixTQUFoQjtJQUFILENBcEJuQjtJQXFCQSxXQUFBLEVBQWEsU0FBQyxHQUFEO2VBQVMsU0FBUyxFQUFDLEVBQUQsRUFBVCxDQUFhLElBQWIsRUFBZ0IsR0FBaEI7SUFBVCxDQXJCYjtJQXNCQSxTQUFBLEVBQW1CLFNBdEJuQjtJQXVCQSxjQUFBLEVBQW1CLFNBQVMsQ0FBQyxjQXZCN0IiLCJzb3VyY2VzQ29udGVudCI6WyJcbiMgMDAwMDAwMDAwICAwMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgMDAwMDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMCAgICAgMDBcbiMgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMCAgMDAwICAwMDAgICAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDBcbiMgICAgMDAwICAgICAwMDAwMDAwICAgIDAwMDAwMDAwMCAgMDAwIDAgMDAwICAwMDAwMDAwICAgMDAwMDAwICAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwMDBcbiMgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAgICAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgMCAwMDBcbiMgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAwMDAwICAgMDAwICAgICAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAgICAwMDBcblxueyByZXZlcnNlZCwgc2xhc2gsIGtzdHIsIGtlcnJvciwgXyB9ID0gcmVxdWlyZSAna3hrJ1xuXG5tYXRjaHIgPSByZXF1aXJlICcuLi8uLi90b29scy9tYXRjaHInXG5cbmNsYXNzIFRyYW5zZm9ybVxuXG4gICAgQHRyYW5zZm9ybU5hbWVzID0gW1xuICAgICAgICAndXBwZXInLCAnbG93ZXInLCAndGl0bGUnLCAnY2FzZSdcbiAgICAgICAgJ2NvdW50JywgJ2FkZCcsICdzdWInXG4gICAgICAgICd1cCcsICdkb3duJywgJ3NvcnQnLCAndW5pcSdcbiAgICAgICAgJ3JldmVyc2UnLFxuICAgICAgICAncmVzb2x2ZScsICd1bnJlc29sdmUnXG4gICAgICAgICdkaXInLCAnYmFzZSdcbiAgICAgICAgJ2ZpbGUnLCAnZXh0J1xuICAgIF1cbiAgICBAdHJhbnNmb3JtTWVudXMgPVxuICAgICAgICBDYXNlOiBbJ3VwcGVyJywgJ2xvd2VyJywgJ3RpdGxlJywgJ2Nhc2UnXVxuICAgICAgICBDYWxjOiBbJ2NvdW50JywgJ2FkZCcsICdzdWInXVxuICAgICAgICBTb3J0OiBbJ3VwJywgJ2Rvd24nLCAnc29ydCcsICd1bmlxJywgJ3JldmVyc2UnXVxuICAgICAgICBQYXRoOiBbICdyZXNvbHZlJywgJ3VucmVzb2x2ZScsICdkaXInLCAnYmFzZScsICdmaWxlJywgJ2V4dCcgXVxuXG4gICAgY29uc3RydWN0b3I6IChAZWRpdG9yKSAtPlxuXG4gICAgICAgIEBlZGl0b3IudHJhbnNmb3JtID0gQFxuICAgICAgICBAbGFzdCAgICAgICAgID0gbnVsbFxuICAgICAgICBAY2FzZUZ1bmNzICAgID0gWyd1cHBlcicsICdsb3dlcicsICd0aXRsZSddXG4gICAgICAgIEByZXNvbHZlRnVuY3MgPSBbJ3Jlc29sdmUnLCAndW5yZXNvbHZlJ11cbiAgICAgICAgQHNvcnRGdW5jcyAgICA9IFsndXAnLCAnZG93biddXG5cbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAwMDAwMDBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMCAgMDAwICAgICAwMDBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwICAgICAwMDBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAgICAwMDBcbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgICAwMDBcblxuICAgIGNvdW50OiAodHlwPSdkZWMnLCBvZmZzZXQ9MCwgc3RlcD0xKSAtPlxuXG4gICAgICAgIG9mZnNldCA9IHBhcnNlSW50IG9mZnNldFxuICAgICAgICBzdGVwICAgPSBwYXJzZUludCBzdGVwXG5cbiAgICAgICAgQGVkaXRvci5kby5zdGFydCgpXG4gICAgICAgIEBlZGl0b3IuZmlsbFZpcnR1YWxTcGFjZXMoKVxuICAgICAgICBjcyA9IEBlZGl0b3IuZG8uY3Vyc29ycygpXG4gICAgICAgIEBlZGl0b3IuZG8uc2VsZWN0IHJhbmdlc0Zyb21Qb3NpdGlvbnMgY3NcblxuICAgICAgICBzd2l0Y2ggdHlwXG4gICAgICAgICAgICB3aGVuICdoZXgnXG4gICAgICAgICAgICAgICAgYmFzZSA9IDE2XG4gICAgICAgICAgICB3aGVuICdiaW4nXG4gICAgICAgICAgICAgICAgYmFzZSA9IDJcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBiYXNlID0gMTBcblxuICAgICAgICBwYWQgPSBOdW1iZXIoc3RlcCooY3MubGVuZ3RoLTEpK29mZnNldCkudG9TdHJpbmcoYmFzZSkubGVuZ3RoXG4gICAgICAgIG51bWJlcnMgPSAoXy5wYWRTdGFydCBOdW1iZXIoc3RlcCppK29mZnNldCkudG9TdHJpbmcoYmFzZSksIHBhZCwgJzAnIGZvciBpIGluIFswLi4uY3MubGVuZ3RoXSlcblxuICAgICAgICBAZWRpdG9yLnJlcGxhY2VTZWxlY3RlZFRleHQgbnVtYmVyc1xuICAgICAgICBAZWRpdG9yLmRvLmVuZCgpXG4gICAgICAgICdjb3VudCdcblxuICAgIGFkZDogKGQ9MSkgLT5cblxuICAgICAgICBAYXBwbHkgKHQpIC0+IGtzdHIocGFyc2VJbnQodCkgKyBwYXJzZUludChkKSlcbiAgICAgICAgJ2FkZCdcblxuICAgIHN1YjogKGQ9MSkgLT5cblxuICAgICAgICBAYXBwbHkgKHQpIC0+IGtzdHIocGFyc2VJbnQodCkgLSBwYXJzZUludChkKSlcbiAgICAgICAgJ3N1YidcblxuICAgICMgMDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwMDAwMDAgICAgMDAwMDAwMCAgMDAwMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMFxuICAgICMgMDAwMDAwMCAgICAwMDAwMDAwICAgIDAwMCAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgICAgMDAwICAgICAwMDAgICAgICAgMDAwICAgMDAwICAgICAgIDAwMCAgMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAgICAgMCAgICAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgICAwMDAwMDAwMFxuXG4gICAgcmV2ZXJzZTogLT5cbiAgICAgICAgQHRyYW5zIChsKSAtPiByZXZlcnNlZCBsXG4gICAgICAgICdyZXZlcnNlJ1xuXG4gICAgIyAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMDAwMDAwMFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDBcbiAgICAjIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgICAgICAgMDAwXG4gICAgIyAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMFxuICAgICMgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgICAwMDBcblxuICAgIHNvcnQ6IC0+IEB0b2dnbGUgQHNvcnRGdW5jc1xuXG4gICAgdXA6IC0+XG4gICAgICAgIEB0cmFucyAobCkgLT4gbC5zb3J0IChhLGIpIC0+IGEubG9jYWxlQ29tcGFyZSBiXG4gICAgICAgICd1cCdcblxuICAgIGRvd246IC0+XG4gICAgICAgIEB0cmFucyAobCkgLT4gcmV2ZXJzZWQgbC5zb3J0IChhLGIpIC0+IGEubG9jYWxlQ29tcGFyZSBiXG4gICAgICAgICdkb3duJ1xuXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwMDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAwICAwMDAgIDAwMCAgMDAwICAgMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMCAwIDAwMCAgMDAwICAwMDAgMDAgMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDAgIDAwMCAwMDAwXG4gICAgIyAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgMDAwMDAgMDBcblxuICAgIHVuaXE6IC0+XG4gICAgICAgIEB0cmFucyAobCkgLT5cbiAgICAgICAgICAgIHYgPSBbXVxuICAgICAgICAgICAgciA9IFtdXG4gICAgICAgICAgICBmb3IgYSBpbiBsXG4gICAgICAgICAgICAgICAgci5wdXNoIGlmIGEgaW4gdiB0aGVuICcnIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdi5wdXNoIGFcbiAgICAgICAgICAgICAgICAgICAgYVxuICAgICAgICAgICAgclxuICAgICAgICAndW5pcSdcblxuICAgICMgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMDAwMDAwXG4gICAgIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwXG4gICAgIyAwMDAgICAgICAgMDAwMDAwMDAwICAwMDAwMDAwICAgMDAwMDAwMFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgICAgICAwMDAgIDAwMFxuICAgICMgIDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAwXG5cbiAgICBjYXNlOiAtPiBAdG9nZ2xlIEBjYXNlRnVuY3NcblxuICAgIHVwcGVyOiAtPlxuXG4gICAgICAgIEBhcHBseSAodCkgLT4gdC50b1VwcGVyQ2FzZSgpXG4gICAgICAgICd1cHBlcidcblxuICAgIGxvd2VyOiAtPlxuXG4gICAgICAgIEBhcHBseSAodCkgLT4gdC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICdsb3dlcidcblxuICAgIHRpdGxlOiAtPlxuXG4gICAgICAgIHBhdHRlcm4gPSAvXFx3Ky9cbiAgICAgICAgQGFwcGx5ICh0KSAtPlxuICAgICAgICAgICAgZm9yIHIgaW4gbWF0Y2hyLnJhbmdlcyAvXFx3Ky8sIHRcbiAgICAgICAgICAgICAgICB0ID0gdC5zcGxpY2Ugci5zdGFydCwgci5tYXRjaC5sZW5ndGgsIHIubWF0Y2guc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSArIHIubWF0Y2guc2xpY2UoMSkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgdFxuICAgICAgICAndGl0bGUnXG5cbiAgICAjIDAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwXG4gICAgIyAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwIDAwMCAgIDAwMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAgICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgIDAwMCAgICAgMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwICAgICAgMCAgICAgIDAwMDAwMDAwXG5cbiAgICB0b2dnbGVSZXNvbHZlOiAtPiBAdG9nZ2xlIEByZXNvbHZlRnVuY3NcblxuICAgIHJlc29sdmU6IC0+XG5cbiAgICAgICAgY3dkID0gcHJvY2Vzcy5jd2QoKVxuICAgICAgICBpZiBAZWRpdG9yLmN1cnJlbnRGaWxlP1xuICAgICAgICAgICAgcHJvY2Vzcy5jaGRpciBzbGFzaC5kaXIgQGVkaXRvci5jdXJyZW50RmlsZVxuICAgICAgICBAYXBwbHkgKHQpIC0+IHNsYXNoLnJlc29sdmUgdFxuICAgICAgICBwcm9jZXNzLmNoZGlyIGN3ZFxuICAgICAgICAncmVzb2x2ZSdcblxuICAgIHVucmVzb2x2ZTogLT5cblxuICAgICAgICBAYXBwbHkgKHQpIC0+IHNsYXNoLnVucmVzb2x2ZSB0XG4gICAgICAgICd1bnJlc29sdmUnXG5cbiAgICAjIDAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwMDAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwXG4gICAgIyAwMDAwMDAwMCAgIDAwMDAwMDAwMCAgICAgMDAwICAgICAwMDAwMDAwMDBcbiAgICAjIDAwMCAgICAgICAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgICAgICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwXG5cbiAgICBiYXNlOiAtPlxuXG4gICAgICAgIEBhcHBseSAodCkgLT4gc2xhc2guYmFzZSB0XG4gICAgICAgICdiYXNlbmFtZSdcblxuICAgIGRpcjogLT5cblxuICAgICAgICBAYXBwbHkgKHQpIC0+IHNsYXNoLmRpciB0XG4gICAgICAgICdkaXJuYW1lJ1xuXG4gICAgZXh0OiAtPlxuXG4gICAgICAgIEBhcHBseSAodCkgLT4gc2xhc2guZXh0IHRcbiAgICAgICAgJ2V4dCdcblxuICAgIGZpbGU6IC0+XG5cbiAgICAgICAgQGFwcGx5ICh0KSAtPiBzbGFzaC5maWxlIHRcbiAgICAgICAgJ2ZpbGUnXG5cbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMCAgICAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAwMDBcbiAgICAjIDAwMDAwMDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMCAgICAgICAgMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgIDAwMCAgICAgICAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgICAgMDAwMDAwMCAgICAgMDAwXG5cbiAgICBhcHBseTogKGZ1bmMpIC0+IEB0ZnVuYyBhcHBseTpmdW5jXG5cbiAgICAjIDAwMDAwMDAwMCAgMDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgIDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwXG4gICAgIyAgICAwMDAgICAgIDAwMDAwMDAgICAgMDAwMDAwMDAwICAwMDAgMCAwMDAgIDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgICAgICAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMFxuXG4gICAgdHJhbnM6IChmdW5jKSAtPiBAdGZ1bmMgdHJhbnM6ZnVuY1xuXG4gICAgIyAwMDAwMDAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwMCAgMDAwICAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwMDAwICAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwICAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgICAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgMDAwMDAwMFxuXG4gICAgdGZ1bmM6IChvcHQpIC0+XG5cbiAgICAgICAgaWYgbm90IEBlZGl0b3IubnVtU2VsZWN0aW9ucygpXG5cbiAgICAgICAgICAgIGlmIG9wdC50cmFuc1xuICAgICAgICAgICAgICAgIEBlZGl0b3Iuc2VsZWN0TW9yZUxpbmVzKClcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAZWRpdG9yLnNlbGVjdCBAZWRpdG9yLnJhbmdlc0ZvcldvcmRzQXRDdXJzb3JzKClcblxuICAgICAgICBzZWxlY3Rpb25zID0gQGVkaXRvci5zZWxlY3Rpb25zKClcblxuICAgICAgICB0bCA9IEBlZGl0b3IudGV4dHNJblJhbmdlcyBzZWxlY3Rpb25zXG4gICAgICAgIHRsID0gdGwubWFwIG9wdC5hcHBseSBpZiBvcHQuYXBwbHk/XG4gICAgICAgIHRsID0gb3B0LnRyYW5zIHRsICAgICBpZiBvcHQudHJhbnM/XG5cbiAgICAgICAgQGVkaXRvci5kby5zdGFydCgpXG4gICAgICAgIEBlZGl0b3IucmVwbGFjZVNlbGVjdGVkVGV4dCB0bFxuICAgICAgICBAZWRpdG9yLmRvLmVuZCgpXG5cbiAgICAjIDAwMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgICAgMDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgICAgMDAwICAgICAgMDAwXG4gICAgIyAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDAgIDAwMDAgIDAwMCAgICAgIDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgMDAwXG4gICAgIyAgICAwMDAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAgIDAwMDAwMDAwXG5cbiAgICB0b2dnbGU6IChmdW5jTGlzdCkgLT5cblxuICAgICAgICBpZiBAbGFzdCBub3QgaW4gZnVuY0xpc3RcbiAgICAgICAgICAgIEBsYXN0ID0gXy5sYXN0IGZ1bmNMaXN0XG5cbiAgICAgICAgbmV4dEluZGV4ID0gKDEgKyBmdW5jTGlzdC5pbmRleE9mIEBsYXN0KSAlIGZ1bmNMaXN0Lmxlbmd0aFxuICAgICAgICBAZG8gZnVuY0xpc3RbbmV4dEluZGV4XVxuXG4gICAgIyAwMDAwMDAwICAgICAwMDAwMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgMDAwXG4gICAgIyAwMDAwMDAwICAgICAwMDAwMDAwXG5cbiAgICBkbzogKHRyYW5zTmFtZSwgYXJncy4uLikgLT5cblxuICAgICAgICBmID0gQFt0cmFuc05hbWVdXG5cbiAgICAgICAgaWYgZiBhbmQgXy5pc0Z1bmN0aW9uIGZcbiAgICAgICAgICAgIEBsYXN0ID0gZi5hcHBseSBALCBhcmdzXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBrZXJyb3IgXCJ1bmhhbmRsZWQgdHJhbnNmb3JtICN7dHJhbnNOYW1lfVwiXG5cbiAgICAgICAgQGxhc3RcblxuICAgIEBkbzogKGVkaXRvciwgdHJhbnNOYW1lLCBhcmdzLi4uKSAtPlxuXG4gICAgICAgIHQgPSBlZGl0b3IudHJhbnNmb3JtID8gbmV3IFRyYW5zZm9ybSBlZGl0b3JcbiAgICAgICAgdC5kby5hcHBseSB0LCBbdHJhbnNOYW1lXS5jb25jYXQgYXJnc1xuXG5tb2R1bGUuZXhwb3J0cyA9XG5cbiAgICBhY3Rpb25zOlxuXG4gICAgICAgIG1lbnU6IFwiTWlzY1wiXG5cbiAgICAgICAgdG9nZ2xlQ2FzZTpcbiAgICAgICAgICAgIG5hbWU6ICAnVG9nZ2xlIENhc2UnXG4gICAgICAgICAgICB0ZXh0OiAgJ3RvZ2dsZXMgc2VsZWN0ZWQgdGV4dHMgYmV0d2VlbiBsb3dlci0gdXBwZXItIGFuZCB0aXRsZS1jYXNlJ1xuICAgICAgICAgICAgY29tYm86ICdjb21tYW5kK2FsdCtjdHJsK3UnXG4gICAgICAgICAgICBhY2NlbDogJ2FsdCtjdHJsK3UnXG5cbiAgICAgICAgcmV2ZXJzZVNlbGVjdGlvbjpcbiAgICAgICAgICAgIG5hbWU6ICAnUmV2ZXJzZSBTZWxlY3Rpb24nXG4gICAgICAgICAgICB0ZXh0OiAgJ3JldmVyc2VzIHRoZSBvcmRlciBvZiBzZWxlY3RlZCB0ZXh0cydcbiAgICAgICAgICAgIGNvbWJvOiAnY29tbWFuZCthbHQrY3RybCtyJ1xuICAgICAgICAgICAgYWNjZWw6ICdhbHQrY3RybCtyJ1xuXG4gICAgICAgIGRvVHJhbnNmb3JtOlxuICAgICAgICAgICAgbmFtZTogICdkb1RyYW5zZm9ybSdcblxuICAgIHRvZ2dsZUNhc2U6ICAgICAgICAtPiBUcmFuc2Zvcm0uZG8gQCwgJ2Nhc2UnXG4gICAgcmV2ZXJzZVNlbGVjdGlvbjogIC0+IFRyYW5zZm9ybS5kbyBALCAncmV2ZXJzZSdcbiAgICBkb1RyYW5zZm9ybTogKGFyZykgLT4gVHJhbnNmb3JtLmRvIEAsIGFyZ1xuICAgIFRyYW5zZm9ybTogICAgICAgICBUcmFuc2Zvcm1cbiAgICB0cmFuc2Zvcm1OYW1lczogICAgVHJhbnNmb3JtLnRyYW5zZm9ybU5hbWVzXG4iXX0=
//# sourceURL=../../../coffee/editor/actions/transform.coffee